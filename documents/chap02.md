# DI(DependencyInjection)와 스프링

------

Di는 Dependency Injection의 약자로서, 우리말로는 '의존 주입'이라는 단어로 번역되어 사용된다.

'의존'이라는 단어에서 알 수 있듯이 DI는 의존을 처리하는 방법에 대한 내용이다.

스프링은 기본적으로 DI를 기반으로 동작하기 때문에, 스프링을 잘 사용하려면 DI에 대한 이해가 필수적이다.

#### 의존(Dependency)이란?

특정 기능을 실행하기 위해 다른 클래스(혹은 타입)를 필요로 할 때 이를 의존(dependency)한다고 말한다.

<u>타입에 의존한다는 것은 다른 말로 해당 타입의 객체를 사용한다는 것을 뜻한다.</u>

의존하는 타입의 객체는 직접 생성해서 사용할 수 있지만 외부에서 전달 받을수도 있다.

직접 생성해서 전달 받는 경우

```
public class A {
	private B b = new B();
}
```



의존하는 객체를 생성자의 파라미터를 이용해서 외부에서 전달 받는 경우

```
public class A {
	private B b;
	
	//의존하는 타입의 객체를 생성자의 파라미터를 통해서 전달받음
	public A(B b) {
		this.b = b;
	}
}


class Main {
	//의존 객체를 직접 생성
	A a = new A(new B());
}
```

위와 같이 생성자를 통해서 의존 객체를 전달받는 경우, A객체를 생성할때 의존하는 객체를 생성자의

파라미터로 전달해야 한다.

#### 의존 객체를 직접 생성하는 방식의 단점

위 코드는 B코드를 직접 생성하고 있다. 이 상황에서 요구사항의 변화로 B클래스의 하위 클래스인

BB클래스를 사용해야 하는 상황이 발생했다고 하자. 이 경우 Main클래스의 코드를 변경해 주어야 한다.

```
class Main{
//B클래스 대신에 BB를 사용하려면 Main을 변경해주어야함
A a = new A(new BB());
}
```

사실 Main클래스는 사용할 객체 타입이 B 클래스인지 BB클래스인지 중요하지 않음에도, BB클래스 객체를

사용하기 위해서 Main 클래스의 코드를 변경해야하는 상황이 발생했다.

만약 B클래스 대신에 BB 클래스의 객체를 사용해야 하는 코드들이 많다면 , 수정해주어야 하는 코드의

양도 증가하게 될것이다.(유지보수의 어려움)

즉 의존하는 객체를 직접 생성하는 방식은 개발 효율이 떨어지게된다.

